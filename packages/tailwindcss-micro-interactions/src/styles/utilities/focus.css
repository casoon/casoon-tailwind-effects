/*--------------------------------------*
  FOCUS RINGS (focus-visible first-class)
 *--------------------------------------*/

/* Fallback when :focus-visible unsupported -> use :focus */
@supports not selector(:focus-visible) {
  .cs-focus-scale-105 { transition: transform var(--cs-transition); }
  .cs-focus-scale-105:focus { transform: scale(1.05); }

  .cs-focus-ring-2:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--cs-focus-ring-strong, var(--cs-focus-ring-strong-fallback));
  }
  .cs-focus-ring-4:focus {
    outline: none;
    box-shadow: 0 0 0 4px var(--cs-focus-ring-medium, var(--cs-focus-ring-medium-fallback));
  }
}

/* Preferred modern path */
@supports selector(:focus-visible) {
  .cs-focus-scale-105 { transition: transform var(--cs-transition); }
  .cs-focus-scale-105:focus-visible { transform: scale(1.05); }

  .cs-focus-ring-2:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--cs-focus-ring-strong, var(--cs-focus-ring-strong-fallback));
  }
  .cs-focus-ring-4:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px var(--cs-focus-ring-medium, var(--cs-focus-ring-medium-fallback));
  }
}

/* High-contrast / forced colors support */
@media (prefers-contrast: more) {
  .cs-focus-ring-2:focus-visible,
  .cs-focus-ring-2:focus {
    box-shadow: 0 0 0 2px CanvasText;
  }
  .cs-focus-ring-4:focus-visible,
  .cs-focus-ring-4:focus {
    box-shadow: 0 0 0 3px CanvasText, 0 0 0 5px Canvas;
  }
}
@media (forced-colors: active) {
  .cs-focus-ring-2:focus-visible,
  .cs-focus-ring-2:focus {
    outline: 2px solid Highlight;
    outline-offset: 2px;
    box-shadow: none;
  }
  .cs-focus-ring-4:focus-visible,
  .cs-focus-ring-4:focus {
    outline: 3px solid Highlight;
    outline-offset: 2px;
    box-shadow: none;
  }
}
