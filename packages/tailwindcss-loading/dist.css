/* ========================================================================
   @casoon/tailwindcss-loading - Flattened CSS Distribution
   Tailwind CSS v4 compatible utilities without deep @layer nesting
   ===================================================================== */

/* Import tokens first */
@import "./tokens.css";

/* @casoon/tailwindcss-loading */
/* Skeletons, progress indicators, and overlays (Tailwind v4 compatible) */

  /* ============== Skeletons ============== */
  .skeleton {
    position: relative;
    overflow: hidden;
    background: var(--loading-color);
    border-radius: var(--skeleton-radius);
    min-height: var(--skeleton-height);

  .skeleton::after {
    content: "";
    position: absolute; inset: 0;
    background-image: var(--skeleton-sheen);
    transform: translateX(-100%);
    animation: ldBar var(--loading-duration) var(--loading-ease) infinite;

  .skeleton-text { height: 1em; border-radius: calc(var(--skeleton-radius) / 2); }
  .skeleton-avatar { width: var(--avatar-size); height: var(--avatar-size); border-radius: 9999px; }

  /* ============== Progress ============== */
  .progress-circle {
    --value: 0; /* 0..100 */
    width: var(--progress-size); height: var(--progress-size);
    border-radius: 50%;
    background:
      conic-gradient(var(--loading-accent) calc(var(--value) * 1%), color-mix(in oklab, var(--loading-accent) 20%, transparent) 0);
    mask:
      radial-gradient(circle at 50% 50%, transparent 58%, var(--loading-mask-ink, #000) 59%);

  .progress-steps { display: flex; gap: .5rem; align-items: center; }
  .progress-steps > .step {
    --size: .75rem;
    width: var(--size); height: var(--size);
    border-radius: 9999px; background: var(--loading-color);

  .progress-steps > .step[aria-current="true"],
  .progress-steps > .step.is-active { background: var(--loading-accent); }

  .progress-timeline { display: grid; gap: .75rem; position: relative; }
  .progress-timeline .event { display: grid; grid-template-columns: auto 1fr; gap: .75rem; align-items: start; }
  .progress-timeline .marker { width: .75rem; height: .75rem; border-radius: 9999px; background: var(--loading-accent); margin-top: .25rem; }
  .progress-timeline .line { grid-column: 1 / 1; grid-row: 1 / -1; justify-self: center; width: 2px; background: var(--loading-color); }

  /* ============== Overlays & Spinners ============== */
  .loading-spinner,
  .loading-dots,
  .loading-bars { display: inline-grid; place-items: center; }

  .loading-spinner { width: 2rem; height: 2rem; border-radius: 50%; border: 2px solid color-mix(in oklab, currentColor 30%, transparent); border-top-color: currentColor; animation: ldSpin .9s linear infinite; }

  .loading-dots { display: inline-flex; gap: .3rem; }
  .loading-dots::before, .loading-dots::after, .loading-dots span {
    content: ""; display: inline-block; width: .4rem; height: .4rem; border-radius: 9999px; background: currentColor; opacity: .6;
    animation: ldPulse var(--loading-duration-fast) ease-in-out infinite;

  .loading-dots::after { animation-delay: .15s }
  .loading-dots span { animation-delay: .3s }

  .loading-bars { position: relative; overflow: hidden; width: 4rem; height: .35rem; border-radius: 999px; background: var(--loading-color); }
  .loading-bars::after { content: ""; position: absolute; inset: 0; width: 40%; background: currentColor; border-radius: inherit; animation: ldBar 1s linear infinite; }

  @keyframes ldSpin { to { transform: rotate(360deg) } }
  @keyframes ldPulse { 0%,100% { transform: scale(.9); opacity: .6 } 50% { transform: scale(1); opacity: 1 } }
  @keyframes ldBar { 0% { transform: translateX(-100%) } 100% { transform: translateX(100%) } }

@media (prefers-reduced-motion: reduce) {
  
    .skeleton::after { animation-duration: 2.4s; }
    .loading-spinner, .loading-dots::before, .loading-dots::after, .loading-dots span, .loading-bars::after { animation-duration: 1.8s; animation-iteration-count: 1; }