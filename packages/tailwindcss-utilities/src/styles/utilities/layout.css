/* =========================================
   LAYOUT UTILITIES
   ========================================= */
@layer cs-utilities {
  /* Layout micro-recipes */
  .cs-stack {
    display: grid;
    gap: var(--cs-space-3);
  }
  .cs-stack-sm {
    display: grid;
    gap: var(--cs-space-2);
  }
  .cs-stack-lg {
    display: grid;
    gap: var(--cs-space-6);
  }
  .cs-cluster {
    display: flex;
    flex-wrap: wrap;
    gap: var(--cs-space-2);
    align-items: center;
  }
  .cs-center {
    display: grid;
    place-items: center;
  }
  .cs-grid-fit {
    display: grid;
    gap: var(--cs-space-3);
    grid-template-columns: repeat(auto-fit, minmax(min(240px, 100%), 1fr));
  }
  .cs-aspect {
    aspect-ratio: var(--cs-aspect, 16 / 9);
  }
  .cs-bleed-x {
    margin-inline: calc(var(--cs-page-pad) * -1);
  }
  @container (min-width: 960px) {
    .cs-bleed-x {
      margin-inline: calc((var(--cs-page-pad) + var(--cs-space-3)) * -1);
    }
  }
  .cs-safe-pad {
    padding-inline: max(var(--cs-page-pad), env(safe-area-inset-left));
    padding-inline-end: max(var(--cs-page-pad), env(safe-area-inset-right));
    padding-block-end: max(var(--cs-space-4), env(safe-area-inset-bottom));
  }

  /* Tokens: dimension & radius utilities */
  .cs-radius-sm {
    border-radius: calc(var(--cs-radius) - 4px);
  }
  .cs-radius-lg {
    border-radius: calc(var(--cs-radius) + 6px);
  }
  .cs-shadow {
    box-shadow: var(--cs-shadow-1);
  }
  .cs-shadow-lg {
    box-shadow: var(--cs-shadow-2);
  }
  .cs-pad-1 {
    padding: var(--cs-space-1);
  }
  .cs-pad-2 {
    padding: var(--cs-space-2);
  }
  .cs-pad-3 {
    padding: var(--cs-space-3);
  }
  .cs-gap-1 {
    gap: var(--cs-space-1);
  }
  .cs-gap-2 {
    gap: var(--cs-space-2);
  }
  .cs-gap-3 {
    gap: var(--cs-space-3);
  }

  /* Responsive / container visibility utils */
  @container (max-width: 639px) {
    .cs-show-sm {
      display: initial !important;
    }
    .cs-hide-sm {
      display: none !important;
    }
  }
  @container (min-width: 640px) and (max-width: 959px) {
    .cs-show-md {
      display: initial !important;
    }
    .cs-hide-md {
      display: none !important;
    }
  }
  @container (min-width: 960px) {
    .cs-show-lg {
      display: initial !important;
    }
    .cs-hide-lg {
      display: none !important;
    }
  }

  /* Example brand background utility */
  .cs-bg-brand {
    background-color: var(--cs-brand, #4f7cff);
    color: var(--cs-brand-ink, #0b0d12);
  }
}

/* =========================================
   RESPONSIVE / CONTAINER QUERIES
   ========================================= */
@layer cs-components {
  @container (min-width: 640px) {
    .cs-container-fluid {
      padding-left: calc(var(--cs-page-pad) + var(--cs-space-1));
      padding-right: calc(var(--cs-page-pad) + var(--cs-space-1));
    }
  }
  @container (min-width: 960px) {
    .cs-container-fluid {
      padding-left: calc(var(--cs-page-pad) + var(--cs-space-3));
      padding-right: calc(var(--cs-page-pad) + var(--cs-space-3));
    }
  }
  @container (min-width: 1200px) {
    .cs-container-fluid {
      max-width: var(--cs-page-max);
    }
  }
}
