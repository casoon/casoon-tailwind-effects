/* =========================================
   CORE UTILITIES
   ========================================= */
@layer cs-utilities {
  /* Screen reader only */
  :where(.cs-sr-only) {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Focus treatment */
  .cs-focus-ring {
    outline: none;
  }
  .cs-focus-ring:focus-visible {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow:
      0 0 0 2px var(--cs-brand, #4f7cff),
      0 0 0 4px color-mix(in srgb, var(--cs-brand, #4f7cff) 20%, transparent);
    transition: box-shadow var(--cs-transition);
  }
  @supports not (color-mix(in srgb, red 50%, white)) {
    .cs-focus-ring:focus-visible {
      box-shadow:
        0 0 0 2px var(--cs-brand, #4f7cff),
        0 0 0 6px rgba(79, 124, 255, 0.25);
    }
  }
  .cs-focus-ring-within:focus-within {
    box-shadow:
      0 0 0 2px var(--cs-brand, #4f7cff),
      0 0 0 6px color-mix(in srgb, var(--cs-brand, #4f7cff) 22%, transparent);
    border-radius: var(--cs-radius);
  }

  /* Container */
  .cs-container-fluid {
    width: 100%;
    padding-left: var(--cs-page-pad);
    padding-right: var(--cs-page-pad);
    margin-left: auto;
    margin-right: auto;
    max-width: none;
    background-color: var(--cs-surface, #14161a);
    color: var(--cs-text, #eef1f6);
  }
  @media (min-width: 768px) {
    .cs-container-fluid {
      padding-left: calc(var(--cs-page-pad) + var(--cs-space-2));
      padding-right: calc(var(--cs-page-pad) + var(--cs-space-2));
    }
  }
  @media (min-width: 1200px) {
    .cs-container-fluid {
      max-width: var(--cs-page-max);
    }
  }

  /* Z-index helpers */
  .cs-z-popover {
    z-index: var(--cs-z-popover);
    position: relative;
  }
  .cs-z-tooltip {
    z-index: var(--cs-z-tooltip);
    position: relative;
  }
  .cs-z-toast {
    z-index: var(--cs-z-toast);
    position: relative;
  }
  .cs-z-modal {
    z-index: var(--cs-z-modal);
    position: relative;
  }
  .cs-z-max {
    z-index: var(--cs-z-max);
    position: relative;
  }

  /* Layout helpers */
  .cs-sticky {
    position: sticky;
    top: 0;
  }
  .cs-will-change-transform {
    will-change: transform;
  }
  .cs-will-change-opacity {
    will-change: opacity;
  }

  /* Direction-aware tweak */
  :dir(rtl) .cs-flow-reverse {
    flex-direction: row-reverse !important;
  }

  /* Type utilities */
  .cs-text-xs {
    font-size: var(--cs-fs-xs);
    line-height: var(--cs-line);
  }
  .cs-text-sm {
    font-size: var(--cs-fs-sm);
    line-height: var(--cs-line);
  }
  .cs-text {
    font-size: var(--cs-fs-md);
    line-height: var(--cs-line);
  }
  .cs-text-lg {
    font-size: var(--cs-fs-lg);
    line-height: calc(var(--cs-line) + 0.05);
  }
  .cs-text-xl {
    font-size: var(--cs-fs-xl);
    line-height: calc(var(--cs-line) + 0.1);
  }
  .cs-text-2xl {
    font-size: var(--cs-fs-2xl);
    line-height: calc(var(--cs-line) + 0.12);
  }
  .cs-font-sans {
    font-family: var(--cs-font-sans);
  }
  .cs-font-mono {
    font-family: var(--cs-font-mono);
  }

  /* Hover/Focus transition dedup */
  :is(.cs-focus-ring):is(:hover, :focus-visible) {
    transition: box-shadow var(--cs-transition);
  }
}
